{% extends "notes/base.html" %}

{% block content %}

<!-- Ba≈ülƒ±k -->
<h1 class="text-3xl md:text-4xl font-extrabold text-[#004070] text-center mb-8">
    MARMARA NOT ‚Äì Fak√ºlteler
</h1>

<!-- Kart Grid -->
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">

    {% for faculty in faculties %}
    <!-- Kart -->
    <a href="{% url 'faculty_detail' faculty.slug %}"
        class="faculty-item group relative bg-[#004070] rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden flex flex-col justify-between min-h-[160px]">

        <!-- √úst Kƒ±sƒ±m: ƒ∞sim ve ƒ∞kon -->
        <div class="flex justify-between items-start mb-4">
            <h2 class="text-xl font-bold text-white w-2/3 leading-tight">
                {{ faculty.name }}
            </h2>
            <div class="bg-white/20 p-3 rounded-full group-hover:bg-white/30 transition-colors">
                <i class="fa-solid {{ faculty.icon }} text-2xl text-white"></i>
            </div>
        </div>

        <!-- Alt Kƒ±sƒ±m: A√ßƒ±klama (Beyaz ≈ûerit) -->
        <div class="absolute bottom-0 left-0 w-full bg-white py-3 px-6">
            <p class="text-[#004070] text-sm font-medium">
                {{ faculty.name|slice:":15" }}... Notlarƒ±
            </p>
        </div>
    </a>
    {% empty %}
    <p class="text-slate-500 col-span-full text-center">
        Hen√ºz fak√ºlte eklenmemi≈ü.
    </p>
    {% endfor %}

</div>

<!-- Arama √áubuƒüu (Alt Kƒ±sƒ±m) -->
<div class="w-full flex justify-center mt-12">
    <div class="bg-[#004070] text-white px-6 py-4 rounded-full w-full md:w-2/3 flex items-center gap-3 shadow-lg">
        <span class="text-xl">üîç</span>
        <input type="text" id="searchInput" placeholder="Fak√ºlteleri Bul..."
            class="bg-transparent focus:outline-none w-full placeholder-blue-200 text-white text-lg">
    </div>
</div>

<script>
    document.getElementById('searchInput').addEventListener('keyup', function () {
        const filter = this.value.toLowerCase();
        const items = document.querySelectorAll('.faculty-item');

        items.forEach(item => {
            const text = item.querySelector('h2').textContent.toLowerCase();
            if (text.includes(filter)) {
                item.style.display = 'flex';
            } else {
                item.style.display = 'none';
            }
        });
    });
</script>

{% endblock %}